#N canvas 0 22 1339 921 10;
#X obj 358 718 vline~;
#X obj 897 467 pack 0 f, f 27;
#X msg 358 624 1 \$2 \, \$4 \$3 \$2;
#X obj 358 591 pack 0 f f f, f 32;
#X obj 897 427 r allnoteoff;
#X text 694 31 ADSR envelope;
#X text 545 543 Sustain (0. \, 1.);
#X obj 358 801 outlet~;
#X obj 175 767 outlet~;
#X text 355 823 Envelope output (signal);
#X text 368 269 [1 \$2 \, \$4 \$3 \$2];
#X text 369 295 Go to 1 in \$2 (attack) ms \, go to \$4 (sustain) in
\$3 (decay) ms after having waited \$2 (attack duration) ms, f 31
;
#X text 369 244 ADS stages;
#X text 901 489 Release stage (go to 0 in (release) ms);
#X obj 175 715 vline~;
#X text 83 642 On note on \, go to 1 in 1.5 ms, f 11;
#X text 81 698 On note off \, go to 0 in 1.5 ms, f 12;
#X text 82 617 Gate mode;
#X text 170 787 Gate output (signal);
#X msg 175 646 0 1.5;
#X msg 221 646 1 1.5, f 13;
#X obj 706 610 r gate_to_env;
#X msg 706 636 0 1.5;
#X text 801 610 That prevents getting the tail of the release when
switching from gate to envelope mode, f 44;
#X obj 331 130 sel 0;
#X obj 358 184 bang;
#X text 372 105 Receives note on and off;
#X obj 331 106 inlet;
#X obj 421 452 r 106_attack;
#X obj 484 510 r 106_decay;
#X obj 547 564 r 106_sustain;
#X obj 1056 425 r 106_release;
#X text 421 434 Attack (1.5 \, 3000.);
#X text 483 487 Decay (1.5 \, 12000.);
#X text 1055 402 Release (1.5 \, 12000.);
#X obj 358 757 *~;
#X text 391 758 Curve;
#X obj 122 351 r clear_notes;
#X obj 122 373 bang;
#X msg 122 395 0 5;
#X connect 0 0 35 1;
#X connect 0 0 35 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 14 0 8 0;
#X connect 19 0 14 0;
#X connect 20 0 14 0;
#X connect 21 0 22 0;
#X connect 22 0 0 0;
#X connect 24 0 1 0;
#X connect 24 0 19 0;
#X connect 24 1 25 0;
#X connect 25 0 3 0;
#X connect 25 0 20 0;
#X connect 27 0 24 0;
#X connect 28 0 3 1;
#X connect 29 0 3 2;
#X connect 30 0 3 3;
#X connect 31 0 1 1;
#X connect 35 0 7 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 0 1;
#X connect 39 0 14 0;
